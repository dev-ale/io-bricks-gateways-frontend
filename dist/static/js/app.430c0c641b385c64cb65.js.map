{"version":3,"sources":["webpack:///static/js/app.430c0c641b385c64cb65.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///App.vue?4865","webpack:///./src/App.vue?0aa7"],"names":["webpackJsonp","module","exports","__webpack_require__","injectStyle","ssrContext","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","use","a","config","productionTip","el","template","components","App","name","data","client","brokerOnline","gateways","created","this","Paho","MQTT","Client","onConnectionLost","onMessageArrived","connect","onSuccess","onConnect","methods","responseObject","errorCode","console","log","errorMessage","message","destinationName","endsWith","obj","JSON","parse","payloadString","some","gateway","online","i","findIndex","splice","foundIndex","loading","$set","push","subscribe","topic","publish","msg","Message","send","scan","time","Date","toJSON","substring","replace","setTimeout","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","href","_v","_e","id","length","_l","key","staticStyle","font-weight","_s","font-size","device","on","click","$event","staticRenderFns"],"mappings":"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","file":"static/js/app.430c0c641b385c64cb65.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(5)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(4),\n  /* template */\n  __webpack_require__(10),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 2 */,\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1__App___default.a);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      client: null,\n      brokerOnline: false,\n      gateways: []\n    };\n  },\n  created: function created() {\n    // Create a client instance\n    this.client = new Paho.MQTT.Client('mqtt.brick.li', 9001, 'clientId');\n\n    // set callback handlers\n    this.client.onConnectionLost = this.onConnectionLost;\n    this.client.onMessageArrived = this.onMessageArrived;\n\n    // connect the client\n    this.client.connect({ onSuccess: this.onConnect });\n  },\n\n  methods: {\n    // called when the client loses its connection\n    onConnectionLost: function onConnectionLost(responseObject) {\n      if (responseObject.errorCode !== 0) {\n        console.log('onConnectionLost:' + responseObject.errorMessage);\n      }\n    },\n\n\n    // called when a message arrives\n    onMessageArrived: function onMessageArrived(message) {\n      if (message.destinationName.endsWith(\"/scan\")) {\n        //console.log(message.destinationName)\n        //console.log(message.payloadString)\n      }\n      if (message.destinationName.endsWith(\"/state\")) {\n\n        console.log('neuer state');\n        var obj = JSON.parse(message.payloadString);\n        console.log(obj);\n\n        if (this.gateways.some(function (gateway) {\n          return gateway.name === obj.name;\n        })) {\n\n          // Check if online --> remove gateway\n          if (obj.online === false) {\n            console.log('offline called');\n            var i = this.gateways.findIndex(function (gateway) {\n              return gateway.name === obj.name;\n            });\n            this.gateways.splice(i, 1);\n            console.log(this.gateways);\n          }\n          // if online --> update values\n          else {\n              console.log(\"matched and updatet gateway: \" + obj.name);\n              var foundIndex = this.gateways.findIndex(function (gateway) {\n                return gateway.name === obj.name;\n              });\n              obj.loading = false;\n              this.$set(this.gateways, foundIndex, obj);\n              //this.gateways[foundIndex+1].loading = false;\n            }\n\n          // if gateway not in list --> add it\n        } else {\n          console.log(\"new gateway: \" + obj.name);\n          var j = this.gateways.findIndex(function (gateway) {\n            return gateway.name === obj.name;\n          });\n          obj.loading = false;\n          this.gateways.push(obj);\n          //this.gateways[j+1].loading = false;\n          //this.$set(this.gateways, this.gateways.length + 1, obj)\n        }\n      } else {}\n    },\n    onConnect: function onConnect() {\n      console.log('ONCONNECT ausgeführt');\n      this.client.subscribe('devices/#');\n      this.client.subscribe('gateways/#');\n      this.brokerOnline = true;\n    },\n    subscribe: function subscribe(topic) {\n      console.log('SUBSCRIBE auf: ' + topic);\n      console.log('subscribed to ' + topic);\n    },\n    publish: function publish(message, topic) {\n      console.log('PUBLISH auf: ' + topic + ' Message: ' + message);\n      var msg = new Paho.MQTT.Message(message);\n      msg.destinationName = topic;\n      this.client.send(msg);\n    },\n    scan: function scan(gateway) {\n      console.log('SCAN ausgeführt');\n      var name = gateway.name;\n      var time = new Date().toJSON().substring(10, 19).replace('T', ' ');\n      this.publish(time, 'gateways/' + name + '/scan');\n      gateway.loading = true;\n      setTimeout(function () {\n        gateway.loading = false;\n      }, 8000);\n    }\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"blue-grey\"\n  }, [_c('div', {\n    staticClass: \"nav-wrapper\"\n  }, [_c('a', {\n    staticClass: \"brand-logo center\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"iot bricks ble - gateways\"), (!_vm.brokerOnline) ? _c('span', {\n    staticClass: \"badge red black-text\"\n  }, [_vm._v(\"Offline\")]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col s12 m6 offset-m3\"\n  }, [(this.gateways.length === 0) ? _c('h2', [_vm._v(\"no gateways available\")]) : _vm._e(), _vm._v(\" \"), (this.gateways.length > 0) ? _c('div', _vm._l((_vm.gateways), function(gateway) {\n    return _c('div', {\n      key: gateway.name,\n      staticClass: \"card blue-grey darken-1 hoverable\"\n    }, [_c('div', {\n      staticClass: \"card-content white-text\"\n    }, [_c('span', {\n      staticClass: \"card-title\"\n    }, [_c('span', {\n      staticClass: \"orange-text\",\n      staticStyle: {\n        \"font-weight\": \"bold\"\n      }\n    }, [_vm._v(_vm._s(gateway.name))])]), _vm._v(\" \"), (gateway.loading) ? _c('div', {\n      staticClass: \"progress orange accent-2\"\n    }, [_c('div', {\n      staticClass: \"indeterminate orange accent-1\"\n    })]) : _vm._e(), _vm._v(\" \"), (!gateway.loading) ? _c('p', {\n      staticStyle: {\n        \"font-size\": \"x-large\"\n      }\n    }, [_vm._v(\"Connected Devices:\")]) : _vm._e(), _vm._v(\" \"), (gateway.loading) ? _c('p', {\n      staticStyle: {\n        \"font-size\": \"x-large\"\n      }\n    }, [_vm._v(\"Scanning for new Devices\")]) : _vm._e(), _vm._v(\" \"), _vm._l((gateway.connectedDevices), function(device) {\n      return (!gateway.loading) ? _c('ul', {\n        key: device\n      }, [_c('li', {\n        staticStyle: {\n          \"font-size\": \"large\"\n        }\n      }, [_vm._v(_vm._s(device))])]) : _vm._e()\n    })], 2), _vm._v(\" \"), _c('div', {\n      staticClass: \"card-action\"\n    }, [_c('a', {\n      staticClass: \"waves-effect waves-light btn orange black-text\",\n      on: {\n        \"click\": function($event) {\n          return _vm.scan(gateway)\n        }\n      }\n    }, [_vm._v(\"Scan for new Devices\")])])])\n  }), 0) : _vm._e()])])])])\n},staticRenderFns: []}\n\n/***/ })\n],[3]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.430c0c641b385c64cb65.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b6e3b1d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b6e3b1d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 1\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.use(App)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div>\n    <nav class=\"blue-grey\">\n      <div class=\"nav-wrapper\">\n        <a href=\"#\" class=\"brand-logo center\">iot bricks ble - gateways<span v-if=\"!brokerOnline\" class=\"badge red black-text\">Offline</span></a>\n      </div>\n    </nav>\n\n    <div id=\"app\">\n        <div class=\"row\">\n          <div class=\"col s12 m6 offset-m3\">\n            <h2 v-if=\"this.gateways.length === 0\">no gateways available</h2>\n            <div v-if=\"this.gateways.length > 0\">\n              <div v-for=\"gateway in gateways\" :key=\"gateway.name\" class=\"card blue-grey darken-1 hoverable\">\n                <div class=\"card-content white-text\">\n                  <span class=\"card-title\"><span style=\"font-weight: bold\" class=\"orange-text\">{{ gateway.name }}</span></span>\n                  <div v-if=\"gateway.loading\" class=\"progress orange accent-2\">\n                    <div class=\"indeterminate orange accent-1\"></div>\n                  </div>\n                  <p v-if=\"!gateway.loading\" style=\"font-size: x-large\">Connected Devices:</p>\n                  <p v-if=\"gateway.loading\"style=\"font-size: x-large\">Scanning for new Devices</p>\n                  <ul v-if=\"!gateway.loading\" v-for=\"device in gateway.connectedDevices\" :key=\"device\">\n                    <li style=\"font-size: large\">{{ device }}</li>\n                  </ul>\n                </div>\n                <div class=\"card-action\">\n                  <a @click=\"scan(gateway)\" class=\"waves-effect waves-light btn orange black-text\">Scan for new Devices</a>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n\n</template>\n\n<script>\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      client: null,\n      brokerOnline: false,\n      gateways: []\n    }\n  },\n  created () {\n// Create a client instance\n    this.client = new Paho.MQTT.Client('mqtt.brick.li', 9001, 'clientId')\n\n// set callback handlers\n    this.client.onConnectionLost = this.onConnectionLost;\n    this.client.onMessageArrived = this.onMessageArrived;\n\n// connect the client\n    this.client.connect ({onSuccess:this.onConnect});\n\n  },\n  methods: {\n    // called when the client loses its connection\n    onConnectionLost (responseObject) {\n      if (responseObject.errorCode !== 0) {\n      console.log('onConnectionLost:' + responseObject.errorMessage)\n      }\n    },\n\n    // called when a message arrives\n    onMessageArrived (message) {\n    if (message.destinationName.endsWith(\"/scan\")) {\n      //console.log(message.destinationName)\n      //console.log(message.payloadString)\n    }\n    if (message.destinationName.endsWith(\"/state\")) {\n\n      console.log('neuer state')\n      let obj = JSON.parse(message.payloadString)\n      console.log(obj)\n\n      if(this.gateways.some(gateway => gateway.name === obj.name)) {\n\n        // Check if online --> remove gateway\n        if (obj.online === false) {\n          console.log('offline called')\n          let i = this.gateways.findIndex(gateway => gateway.name === obj.name);\n          this.gateways.splice(i, 1);\n          console.log(this.gateways)\n        }\n        // if online --> update values\n        else {\n          console.log(\"matched and updatet gateway: \" + obj.name)\n          let foundIndex = this.gateways.findIndex(gateway => gateway.name === obj.name);\n          obj.loading = false\n          this.$set(this.gateways, foundIndex, obj)\n          //this.gateways[foundIndex+1].loading = false;\n        }\n\n      // if gateway not in list --> add it\n      }else {\n        console.log(\"new gateway: \" + obj.name)\n        let j = this.gateways.findIndex(gateway => gateway.name === obj.name);\n        obj.loading = false\n        this.gateways.push(obj)\n        //this.gateways[j+1].loading = false;\n        //this.$set(this.gateways, this.gateways.length + 1, obj)\n      }\n    }\n    else {\n\n    }\n  },\n\n    onConnect () {\n      console.log('ONCONNECT ausgeführt')\n      this.client.subscribe('devices/#')\n      this.client.subscribe('gateways/#')\n      this.brokerOnline = true\n    },\n    subscribe (topic) {\n      console.log('SUBSCRIBE auf: ' + topic)\n      console.log('subscribed to ' + topic)\n    },\n    publish (message, topic) {\n      console.log('PUBLISH auf: ' + topic + ' Message: ' + message)\n      let msg = new Paho.MQTT.Message(message);\n      msg.destinationName = topic;\n      this.client.send(msg);\n    },\n    scan (gateway) {\n      console.log('SCAN ausgeführt')\n      let name = gateway.name\n      let time = new Date().toJSON().substring(10,19).replace('T',' ');\n      this.publish(time,'gateways/' + name + '/scan')\n      gateway.loading = true\n      setTimeout(() => {\n        gateway.loading = false\n      }, 8000)\n    }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Montserrat, serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\nbutton {\n  padding: 10px 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?1fc2e412","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"blue-grey\"\n  }, [_c('div', {\n    staticClass: \"nav-wrapper\"\n  }, [_c('a', {\n    staticClass: \"brand-logo center\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"iot bricks ble - gateways\"), (!_vm.brokerOnline) ? _c('span', {\n    staticClass: \"badge red black-text\"\n  }, [_vm._v(\"Offline\")]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col s12 m6 offset-m3\"\n  }, [(this.gateways.length === 0) ? _c('h2', [_vm._v(\"no gateways available\")]) : _vm._e(), _vm._v(\" \"), (this.gateways.length > 0) ? _c('div', _vm._l((_vm.gateways), function(gateway) {\n    return _c('div', {\n      key: gateway.name,\n      staticClass: \"card blue-grey darken-1 hoverable\"\n    }, [_c('div', {\n      staticClass: \"card-content white-text\"\n    }, [_c('span', {\n      staticClass: \"card-title\"\n    }, [_c('span', {\n      staticClass: \"orange-text\",\n      staticStyle: {\n        \"font-weight\": \"bold\"\n      }\n    }, [_vm._v(_vm._s(gateway.name))])]), _vm._v(\" \"), (gateway.loading) ? _c('div', {\n      staticClass: \"progress orange accent-2\"\n    }, [_c('div', {\n      staticClass: \"indeterminate orange accent-1\"\n    })]) : _vm._e(), _vm._v(\" \"), (!gateway.loading) ? _c('p', {\n      staticStyle: {\n        \"font-size\": \"x-large\"\n      }\n    }, [_vm._v(\"Connected Devices:\")]) : _vm._e(), _vm._v(\" \"), (gateway.loading) ? _c('p', {\n      staticStyle: {\n        \"font-size\": \"x-large\"\n      }\n    }, [_vm._v(\"Scanning for new Devices\")]) : _vm._e(), _vm._v(\" \"), _vm._l((gateway.connectedDevices), function(device) {\n      return (!gateway.loading) ? _c('ul', {\n        key: device\n      }, [_c('li', {\n        staticStyle: {\n          \"font-size\": \"large\"\n        }\n      }, [_vm._v(_vm._s(device))])]) : _vm._e()\n    })], 2), _vm._v(\" \"), _c('div', {\n      staticClass: \"card-action\"\n    }, [_c('a', {\n      staticClass: \"waves-effect waves-light btn orange black-text\",\n      on: {\n        \"click\": function($event) {\n          return _vm.scan(gateway)\n        }\n      }\n    }, [_vm._v(\"Scan for new Devices\")])])])\n  }), 0) : _vm._e()])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b6e3b1d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 10\n// module chunks = 1"],"sourceRoot":""}